import{S as Hr,i as xr,s as Lr,k as i,q as o,a as c,l as r,m as p,r as l,h as t,c as u,n as f,b as n,D as a,E as kl}from"./index.ce9a7868.js";function Fr(Vi){let I,As,Vt,Oe,Hs,Yt,M,xs,q,Ls,Fs,$t,je,Rs,zt,We,Os,Qt,P,js,N,Ws,Ds,Kt,S,Js,B,qs,Ns,Xt,De,Bs,Zt,Je,Us,ea,U,Yi=`<code class="language-javascript"><span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">val</span><span class="token operator">:</span> <span class="token string">'foo'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
x <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> <span class="token comment">// prevented</span></code>`,ta,qe,Gs,aa,G,$i=`<code class="language-javascript">x<span class="token punctuation">.</span>val <span class="token operator">=</span> <span class="token string">'bar'</span> <span class="token comment">// value of x is now &#123;val: 'bar'&#125;</span></code>`,sa,V,Y,Vs,Ys,na,$,zi=`<code class="language-elm"><span class="token comment">-- inline</span>
<span class="token hvariable">myVar</span> <span class="token operator">:</span> <span class="token constant">String</span>
<span class="token hvariable">myVar</span> <span class="token operator">=</span> <span class="token string">"Hello, "</span> <span class="token operator">++</span> <span class="token builtin">toString</span><span class="token punctuation">(</span><span class="token hvariable">add</span> <span class="token number">5</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token hvariable">x</span> <span class="token operator">-></span> <span class="token hvariable">x</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code>`,oa,z,Qi=`<code class="language-elm"><span class="token comment">-- chained</span>
<span class="token hvariable">myVar</span> <span class="token operator">:</span> <span class="token constant">String</span>
<span class="token hvariable">myVar</span> <span class="token operator">=</span> <span class="token number">4</span>
    <span class="token operator">|></span> <span class="token punctuation">(</span><span class="token hvariable">x</span> <span class="token operator">-></span> <span class="token hvariable">x</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token operator">|></span> <span class="token hvariable">add</span> <span class="token number">5</span>
    <span class="token operator">|></span> <span class="token builtin">toString</span>
    <span class="token operator">|></span> <span class="token hvariable">String.append</span> <span class="token string">"Hello, "</span> </code>`,la,Ne,$s,ia,Be,zs,ra,Q,Ki=`<code class="language-javascript"><span class="token keyword">const</span> retweetAuthors <span class="token operator">=</span> listOfTweets
    <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">tweet</span> <span class="token operator">=></span> tweet<span class="token punctuation">.</span>isRetweet<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">tweet</span> <span class="token operator">=></span> tweet<span class="token punctuation">.</span>author<span class="token punctuation">)</span></code>`,pa,Ue,Qs,ca,Ge,Ks,ua,K,Xi=`<code class="language-javascript"><span class="token literal-property property">updateModel</span> <span class="token operator">:</span> Msg <span class="token operator">-</span><span class="token operator">></span> Model <span class="token operator">-</span><span class="token operator">></span> Model
updateModel msg model <span class="token operator">=</span>
   <span class="token keyword">case</span> msg <span class="token keyword">of</span>
       Name name <span class="token operator">-</span><span class="token operator">></span>
           <span class="token punctuation">&#123;</span> model <span class="token operator">|</span> name <span class="token operator">=</span> name <span class="token punctuation">&#125;</span></code>`,fa,Ve,Xs,da,C,Zs,X,en,tn,ma,d,an,Z,sn,nn,ee,on,ln,te,rn,pn,ha,ae,Zi=`<code class="language-javascript"><span class="token keyword">const</span> increase <span class="token operator">=</span> Rx<span class="token punctuation">.</span>Observable<span class="token punctuation">.</span><span class="token function">fromEvent</span><span class="token punctuation">(</span>increaseButton<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">)</span>
    <span class="token comment">// We map to a function that will increase the count</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token parameter">state</span> <span class="token operator">=></span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> state<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">count</span><span class="token operator">:</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>`,va,Ye,cn,ka,k,un,se,fn,dn,ne,mn,hn,wa,m,vn,oe,kn,wn,le,bn,yn,ie,En,_n,ba,$e,gn,ya,ze,Tn,Ea,w,In,re,Mn,Pn,pe,Sn,Cn,_a,Qe,An,ga,Ke,Hn,Ta,ce,er='<code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>style.css<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></code>',Ia,A,xn,ue,Ln,Fn,Ma,fe,tr=`<code class="language-javascript"><span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span> 
    src<span class="token operator">=</span><span class="token string">"/_compile/app/src/Main.elm"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span><span class="token operator">></span>
    <span class="token function">runElmProgram</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code>`,Pa,Xe,Rn,Sa,Ze,On,Ca,h,jn,de,Wn,Dn,me,Jn,qn,he,Nn,Bn,Aa,H,Un,ve,Gn,Vn,Ha,b,Ct,Yn,$n,At,zn,Qn,ke,Kn,Ht,Xn,Zn,xa,y,eo,we,to,ao,xt,so,no,La,E,oo,Lt,lo,io,be,ro,po,Fa,et,co,Ra,x,uo,ye,fo,mo,Oa,tt,ho,ja,Ee,ar='<code class="language-undefined">&#39;elm-webpack-loader?verbose=true&amp;warn=true&#39;</code>',Wa,at,vo,Da,_e,sr=`<code class="language-json"><span class="token punctuation">&#123;</span>
   loader<span class="token operator">:</span> 'elm-webpack-loader'<span class="token punctuation">,</span>
   options<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
       verbose<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
       warn<span class="token operator">:</span> <span class="token boolean">true</span>
   <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`,Ja,st,ko,qa,ge,nr=`<code class="language-json"><span class="token punctuation">&#123;</span>
   loader<span class="token operator">:</span> 'elm-webpack-loader'<span class="token punctuation">,</span>
   options<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
       verbose<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
       warn<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
       debug<span class="token operator">:</span> <span class="token boolean">true</span>
   <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code>`,Na,_,wo,Te,bo,yo,Ie,Eo,_o,Ba,nt,go,Ua,ot,To,Ga,v,Ft,Io,Mo,Me,Po,Rt,So,Co,Ao,T,Ot,Ho,xo,jt,Lo,Fo,Wt,Ro,Oo,L,Dt,jo,Wo,Jt,Do,Jo,Va,lt,qo,Ya,F,No,Pe,Bo,Uo,$a,it,Go,za,Se,or=`<code class="language-yml"><span class="token key atrule">cache</span><span class="token punctuation">:</span>
  <span class="token key atrule">directories</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> elm<span class="token punctuation">-</span>stuff/build<span class="token punctuation">-</span>artifacts
    <span class="token punctuation">-</span> tests/elm<span class="token punctuation">-</span>stuff/build<span class="token punctuation">-</span>artifacts</code>`,Qa,rt,Vo,Ka,R,qt,Yo,$o,Nt,zo,Xa,pt,Qo,Za,g,Ko,Bt,Xo,Zo,Ut,el,tl,es,ct,al,ts,O,sl,Ce,nl,ol,as,ut,ll,ss,ft,il,ns,Ae,lr=`<code class="language-elm"><span class="token hvariable">init</span> <span class="token operator">:</span> <span class="token punctuation">(</span> <span class="token constant">Model</span><span class="token punctuation">,</span> <span class="token constant">Cmd</span> <span class="token constant">Msg</span> <span class="token punctuation">)</span>
<span class="token hvariable">init</span> <span class="token operator">=</span>
   <span class="token punctuation">(</span> <span class="token constant">Model</span> <span class="token string">"Elm"</span> <span class="token hvariable">Material.model</span> <span class="token hvariable">initialDiceRoller</span> <span class="token hvariable">TwitterFeed.State.initialModel</span><span class="token punctuation">,</span> <span class="token hvariable">Cmd.none</span> <span class="token punctuation">)</span></code>`,os,dt,rl,ls,He,ir=`<code class="language-elm"><span class="token hvariable">init</span> <span class="token operator">:</span> <span class="token punctuation">(</span> <span class="token constant">Model</span><span class="token punctuation">,</span> <span class="token constant">Cmd</span> <span class="token constant">Msg</span> <span class="token punctuation">)</span>
<span class="token hvariable">init</span> <span class="token operator">=</span>
   <span class="token punctuation">(</span> <span class="token constant">Model</span> <span class="token string">"Elm"</span> <span class="token hvariable">Material.model</span> <span class="token hvariable">initialDiceRoller</span> <span class="token hvariable">TwitterFeed.State.initialModel</span><span class="token punctuation">,</span> <span class="token hvariable">initCmd</span> <span class="token punctuation">)</span></code>`,is,mt,pl,rs,xe,rr=`<code class="language-elm"><span class="token hvariable">initTwitterFeedCmd</span> <span class="token operator">:</span> <span class="token constant">Cmd</span> <span class="token constant">TwitterFeedMsg</span>
<span class="token hvariable">initTwitterFeedCmd</span> <span class="token operator">=</span>
   <span class="token hvariable">Task.attempt</span> <span class="token constant">NewTweets</span> <span class="token hvariable">fetchTweets</span></code>`,ps,ht,cl,cs,Le,pr=`<code class="language-elm"><span class="token hvariable">initCmd</span> <span class="token operator">:</span> <span class="token constant">Cmd</span> <span class="token constant">Msg</span>
<span class="token hvariable">initCmd</span> <span class="token operator">=</span>
   <span class="token hvariable">initTwitterFeedCmd</span></code>`,us,vt,ul,fs,Fe,cr=`<code class="language-elm"><span class="token keyword">type</span> <span class="token constant">Msg</span>
   <span class="token operator">=</span> <span class="token constant">Name</span> <span class="token constant">String</span>
   <span class="token operator">|</span> <span class="token constant">Mdl</span> <span class="token punctuation">(</span><span class="token constant">Material.Msg</span> <span class="token constant">Msg</span><span class="token punctuation">)</span>
   <span class="token operator">|</span> <span class="token constant">MsgForDiceRoller</span> <span class="token constant">DiceRollerMsg</span>
   <span class="token operator">|</span> <span class="token constant">MsgForTwitterFeed</span> <span class="token constant">TwitterFeedMsg</span></code>`,ds,kt,fl,ms,Re,ur=`<code class="language-elm"><span class="token hvariable">initCmd</span> <span class="token operator">:</span> <span class="token constant">Cmd</span> <span class="token constant">Msg</span>
<span class="token hvariable">initCmd</span> <span class="token operator">=</span>
   <span class="token hvariable">initTwitterFeedCmd</span>
       <span class="token operator">|></span> <span class="token hvariable">Cmd.map</span> <span class="token constant">MsgForTwitterFeed</span></code>`,hs,wt,dl,vs,bt,ml,ks,yt,hl;return{c(){I=i("p"),As=o("Elm for front-end developers - how we dove into Elm to rebuild part of our site."),Vt=c(),Oe=i("h1"),Hs=o("Why Elm?"),Yt=c(),M=i("p"),xs=o("The benefits of "),q=i("a"),Ls=o("Elm"),Fs=o(" (no runtime errors, typing) is what makes it accessible to our back-end developers. They are used to the functional style of Scala and in general to a workflow with a compiler."),$t=c(),je=i("p"),Rs=o("On the other hand, this workflow is also what makes the learning curve enormously steep to front-end developers; if you are used to the front-end workflow, working with a compiler is very different. Back-end (e.g. Scala) developers iterate by writing code and seeing if it compiles. Because of (unpredictable) runtime errors and intransparent state in conventional front-end projects, front-end developers have another kind of iterative workflow: write a small bit of code, see what the result is in the browser. And this means leaving the IDE, navigating your app and opening your browser devtools."),zt=c(),We=i("p"),Os=o("The popularisation of live reloaders and the emphasis on a fast build chain (linters, precompilers) originates from this workflow. Although ultimately developing in a strongly typed and compiled language will have less errors, it does require a different programming style."),Qt=c(),P=i("p"),js=o("Besides adapting to this workflow, the functionally pure coding style is infamously difficult to grasp for the uninitiated (See "),N=i("a"),Ws=o(`Functional Programming Is Hard,
That’s Why It’s Good`),Ds=o(", also just Google “functional programming is difficult”). You think you are comfortable with functional concepts (e.g. immutable state, pure functions, higher order functions, currying) and operators (e.g. map, filter, reduce) in JavaScript? This will be of very little help in Elm, because it is not possible to combine functional style with an OO style (or to fall back to OO when you are completely lost)."),Kt=c(),S=i("p"),Js=o("Objects have no meaning in Elm, Elm is a true functional language, like Haskell and Scheme. JavaScript on the other hand is flexible, multi-paradigm ("),B=i("a"),qs=o("imperative, functional, prototype-based"),Ns=o(") and scales from development by absolute beginners to enterprise."),Xt=c(),De=i("h2"),Bs=o("Immutability"),Zt=c(),Je=i("p"),Us=o("Take for instance immutability. In JavaScript (without libraries) the meaning of immutability is limited to the const keyword, which prevents you from reassigning to declared variables."),ea=c(),U=i("pre"),ta=c(),qe=i("p"),Gs=o("It is still possible to change the contents of a constant however, with property reassignment."),aa=c(),G=i("pre"),sa=c(),V=i("p"),Y=i("a"),Vs=o("Immutability in Elm"),Ys=o(" is much more invasive: there are no variables, only constants. Assignment can be written inline or take a chained style for clarity:"),na=c(),$=i("pre"),oa=c(),z=i("pre"),la=c(),Ne=i("p"),$s=o("Note that the order is reversed to what you may expect in this chained notation, it reads from bottom to top."),ia=c(),Be=i("p"),zs=o("This is similar to chaining (functional) operators without storing intermediate state in JavaScript, e.g.:"),ra=c(),Q=i("pre"),pa=c(),Ue=i("p"),Qs=o("Although the order here is from top to bottom."),ca=c(),Ge=i("p"),Ks=o(`If a value can be changed (e.g. by user input or server updates) you need to use “update” functions in Elm. These will update the entire or partial application state by creating a new state and updating the part of the model that is relevant for this event.
Example:`),ua=c(),K=i("pre"),fa=c(),Ve=i("p"),Xs=o("Which means that in the case the message is “Name”, create a new “model” where model.name is set to the supplied name."),da=c(),C=i("p"),Zs=o("An advantage is that over the course of use of the application a list of states is recorded, which enables time travel debugging (like in "),X=i("a"),en=o("this GIF"),tn=o(")."),ma=c(),d=i("p"),an=o("This might look familiar if you have used "),Z=i("a"),sn=o("Redux"),nn=o(". Redux is partially "),ee=i("a"),on=o("inspired by Elm"),ln=o(" and you might recognize the [dispatch, action] cycle in the way Elm updates the model. In that respect, it is is also similar to "),te=i("a"),rn=o("state stores in RxJS"),pn=o(":"),ha=c(),ae=i("pre"),va=c(),Ye=i("p"),cn=o("Here you can see that a new state object is created, and only the count property is updated."),ka=c(),k=i("p"),un=o("Another familiar aspect of Elm is the use of "),se=i("a"),fn=o("Virtual DOM"),dn=o(". Instead of manipulating the DOM directly, an in-memory representation of the UI (the virtual DOM) is modified, and that is synchronized to the real DOM. This improves performance dramatically and is one of "),ne=i("a"),mn=o("the selling points of React"),hn=o("."),wa=c(),m=i("p"),vn=o("With all of this in mind, we set out to rewrite "),oe=i("a"),kn=o("our company site"),wn=o(" in Elm. The current implementation of the site is outdated and has all content stored locally. We want to migrate to a "),le=i("a"),bn=o("JAMstack"),yn=o(" approach, with the content stored in cloud services (Youtube, Twitter, and photos in "),ie=i("a"),En=o("Cloudinary"),_n=o(") and to pull the data in through the respective APIs with Elm. The idea is that Elm should be more accessible to our Scala devs, while still providing a mature environment for our front-end devs so maintenance can be done by either."),ba=c(),$e=i("p"),gn=o("Of course, all devs try to dive right in and soon are discouraged when this approach does not seem to work here. So maybe let’s read the Elm docs. There actually are quite a bit of docs. Maybe first finish the tutorials. Actually now I am even more confused…."),ya=c(),ze=i("h1"),Tn=o("Toolchain/workflow"),Ea=c(),w=i("p"),In=o("No matter if it is Elm, "),re=i("a"),Mn=o("Polymer"),Pn=o(", or any other New Solution that does not use ES6 modules, it means you can’t use the tools you are probably used to as a front-end developer, like ESLint. You are now at the mercy of the maturity of the ecosystem of the New Solution. Fortunately, it looks like Elm has a very active community and covers "),pe=i("a"),Sn=o("Webpack integration"),Cn=o(", for instance, right in the documentation."),_a=c(),Qe=i("h2"),An=o("Elm-reactor and external CSS"),ga=c(),Ke=i("p"),Hn=o(`When starting out with Elm, you usually use elm-reactor to compile and serve Elm files. This offers a web interface that lets you navigate Elm files and when opening them serves them as HTML. Quite soon, you will find out that this presents a problem when you want to add external global resources, like CSS.
The Elm app served by elm-reactor is compiled to JavaScript and wrapped in an HTML. But you can’t specify what that HTML should look like, so you can’t add e.g.`),Ta=c(),ce=i("pre"),Ia=c(),A=i("p"),xn=o("You can (and eventually will) create your own HTML and build with e.g. webpack, but there is an intermediate solution if you want to get to know Elm better first, while keeping the benefits of elm-reactor, such as live reloading and the time travel debugger. It is "),ue=i("a"),Ln=o("not very well documented"),Fn=o(", but you can create an HTML file that directly loads an Elm file. Elm-reactor will automatically compile and live update it. The HTML would contain:"),Ma=c(),fe=i("pre"),Pa=c(),Xe=i("p"),Rn=o("We did notice that local custom fonts that were added while serving this way were not loaded. Custom fonts from a CDN will probably work."),Sa=c(),Ze=i("h2"),On=o("Webpack"),Ca=c(),h=i("p"),jn=o("First I set up a Webpack config conforming to "),de=i("a"),Wn=o("this guide"),Dn=o(". Before, I loaded an image in my Elm code, but now this image gives a 404 when I use the webpack-dev-server. It is also not copied to /dist when building. Webpack does not seem to resolve the image as an asset, which is a "),me=i("a"),Jn=o("known issue"),qn=o(`.
There are workarounds, like setting the image as a CSS background and have the image dependency resolved by the css-loader, but that does `),he=i("a"),Nn=o("not conform to a11y guidelines"),Bn=o(" for informative images."),Aa=c(),H=i("p"),Un=o("The suggested solution is to use "),ve=i("a"),Gn=o("elm-assets-loader"),Vn=o(". Additional to the instructions:"),Ha=c(),b=i("ul"),Ct=i("li"),Yn=o("I had to add ../ as a prefix to the image path"),$n=c(),At=i("li"),zn=o("It was helpful to run webpack instead of webpack-dev-server, it gave more informative errors"),Qn=c(),ke=i("li"),Kn=o("I had to remove this line from the webpack config: "),Ht=i("code"),Xn=o("noParse: /\\.elm$/,"),Zn=o(" because it failed on an SVG import without a compile error, but with a runtime error: “Uncaught ReferenceError: require is not defined”"),xa=c(),y=i("p"),eo=o("This last issue arose because it "),we=i("a"),to=o("is suggested in elm-webpack-loader"),ao=o(" to set "),xt=i("code"),so=o("noParse: /\\.elm$/,"),no=o(" conflicting with elm-css-webpack-loader, which I added later."),La=c(),E=i("p"),oo=o("The cause of the error and the workaround to set "),Lt=i("code"),lo=o("noParse: /^((?!Stylesheet).)*\\.elm.*$/,"),io=o(" instead, is explained in "),be=i("a"),ro=o("elm-css-webpack-loader"),po=o("."),Fa=c(),et=i("h1"),co=o("Getting the debugger back"),Ra=c(),x=i("p"),uo=o("When using Webpack, you don’t use elm-reactor so you don’t have the time travel debugger. This seems obvious: there is no Elm code anymore, it has been compiled to JS. It is very difficult to find documentation that mentions this. However, when using "),ye=i("a"),fo=o("elm-webpack-starter"),mo=o(" it actually runs with the debugger!"),Oa=c(),tt=i("p"),ho=o("It seems this is actually an option for the elm-webpack-loader in the webpack.config.js. First we used this:"),ja=c(),Ee=i("pre"),Wa=c(),at=i("p"),vo=o("Which is equivalent to:"),Da=c(),_e=i("pre"),Ja=c(),st=i("p"),ko=o("And here the option “debug” can be added:"),qa=c(),ge=i("pre"),Na=c(),_=i("p"),wo=o("I had trouble finding this option, because I had looked at the "),Te=i("a"),bo=o("elm-webpack-loader readme"),yo=o(", but I searched for “debug” in the readme, and there is actually only a reference to all the options "),Ie=i("a"),Eo=o("in the source"),_o=o("."),Ba=c(),nt=i("h1"),go=o("Unit tests"),Ua=c(),ot=i("p"),To=o("We set up unit tests (see test/Assets.elm) and modified the npm tasks such that:"),Ga=c(),v=i("ul"),Ft=i("li"),Io=o("Postinstall runs elm package install for / and also for /tests/"),Mo=c(),Me=i("li"),Po=o("The new task "),Rt=i("code"),So=o("npm format-validate"),Co=o(" validates /app/src and /tests/*.elm (as a quick way of excluding /tests/elm-stuff)"),Ao=c(),T=i("li"),Ot=i("code"),Ho=o("npm test"),xo=o(" runs "),jt=i("code"),Lo=o("format-validate"),Fo=o(" and "),Wt=i("code"),Ro=o("elm-test"),Oo=c(),L=i("li"),Dt=i("code"),jo=o("npm run build"),Wo=o(" first runs "),Jt=i("code"),Do=o("npm test"),Jo=o(" and then starts webpack-dev-server"),Va=c(),lt=i("h1"),qo=o("Speeding up the build on Travis"),Ya=c(),F=i("p"),No=o(`After adding a unit test (i.e. elm-test) the build speed is taking over 45 minutes on Travis CI.
One suggestion is to `),Pe=i("a"),Bo=o("cache the elm artifacts"),Uo=o("."),$a=c(),it=i("p"),Go=o("Add this to travis.yml:"),za=c(),Se=i("pre"),Qa=c(),rt=i("p"),Vo=o("The first build after adding this should be still slow, because the build-artifacts will have to be cached, but the second build should be faster:"),Ka=c(),R=i("ul"),qt=i("li"),Yo=o("build #23 (first build with cache on): 46 minutes 48 seconds"),$o=c(),Nt=i("li"),zo=o("build #24: 5 minutes 53 seconds"),Xa=c(),pt=i("p"),Qo=o("So it is worth the trouble!"),Za=c(),g=i("p"),Ko=o("It would be possible to cache "),Bt=i("code"),Xo=o("elm-stuff"),Zo=o(" (where Elm dependencies are installed) instead of "),Ut=i("code"),el=o("elm-stuff/build-artifacts"),tl=o(", but this would require manually clearing the cache when new Elm dependencies are added."),es=c(),ct=i("h1"),al=o("Combining several components in one Elm app"),ts=c(),O=i("p"),sl=o(`We started out with several proofs of concept, so we have a separate TwitterFeed app and DiceRoller app that need to be integrated into the site app.
I’ve followed my refactoring attempt (for splitting up one huge Elm file) that I did in `),Ce=i("a"),nl=o("my first Elm experiment"),ol=o(", which helped integrating the models and update functions."),as=c(),ut=i("p"),ll=o("The TwitterFeed has an initial Cmd. This must somehow be called by the initial Cmd of the main page app."),ss=c(),ft=i("p"),il=o("This is the init of the Model and Cmd of the main page app. The TwitterFeed model has been added, but the initial Cmd is still “none”:"),ns=c(),Ae=i("pre"),os=c(),dt=i("p"),rl=o("I want a custom init cmd to be called:"),ls=c(),He=i("pre"),is=c(),mt=i("p"),pl=o("On init, I want to call a service to get Twitter messages. In the standalone TwitterFeed app this looks like this:"),rs=c(),xe=i("pre"),ps=c(),ht=i("p"),cl=o("It is not possible to create an initCmd in the main page app that calls initTwitterFeedCmd directly:"),cs=c(),Le=i("pre"),us=c(),vt=i("p"),ul=o("Because initTwitterFeedCmd is of the type Cmd TwitterFeedMsg. However, after adding TwitterFeedMsg to the union type for Msg, i.e.:"),fs=c(),Fe=i("pre"),ds=c(),kt=i("p"),fl=o("Then it is possible to map from Cmd TwitterFeedMsg to Cmd Msg:"),ms=c(),Re=i("pre"),hs=c(),wt=i("h1"),dl=o("Conclusion"),vs=c(),bt=i("p"),ml=o(`In the end we simply do not have a strong enough use case for Elm. There is too little state to manage and interaction between components. The TwitterFeed component does have state for instance, but it is so straight forward that Elm offers no advantage over JavaScript alternatives like RxJS state stores
or Redux. In this sense Elm would be a good fit for an advanced web app or component with UI controls or complex logic.`),ks=c(),yt=i("p"),hl=o("Also the steep learning curve for most developers remains, and although this was anticipated for front-end developers it proves more challenging to Scala devs than we first thought."),this.h()},l(e){I=r(e,"P",{});var s=p(I);As=l(s,"Elm for front-end developers - how we dove into Elm to rebuild part of our site."),s.forEach(t),Vt=u(e),Oe=r(e,"H1",{});var wl=p(Oe);Hs=l(wl,"Why Elm?"),wl.forEach(t),Yt=u(e),M=r(e,"P",{});var ws=p(M);xs=l(ws,"The benefits of "),q=r(ws,"A",{href:!0,rel:!0});var bl=p(q);Ls=l(bl,"Elm"),bl.forEach(t),Fs=l(ws," (no runtime errors, typing) is what makes it accessible to our back-end developers. They are used to the functional style of Scala and in general to a workflow with a compiler."),ws.forEach(t),$t=u(e),je=r(e,"P",{});var yl=p(je);Rs=l(yl,"On the other hand, this workflow is also what makes the learning curve enormously steep to front-end developers; if you are used to the front-end workflow, working with a compiler is very different. Back-end (e.g. Scala) developers iterate by writing code and seeing if it compiles. Because of (unpredictable) runtime errors and intransparent state in conventional front-end projects, front-end developers have another kind of iterative workflow: write a small bit of code, see what the result is in the browser. And this means leaving the IDE, navigating your app and opening your browser devtools."),yl.forEach(t),zt=u(e),We=r(e,"P",{});var El=p(We);Os=l(El,"The popularisation of live reloaders and the emphasis on a fast build chain (linters, precompilers) originates from this workflow. Although ultimately developing in a strongly typed and compiled language will have less errors, it does require a different programming style."),El.forEach(t),Qt=u(e),P=r(e,"P",{});var bs=p(P);js=l(bs,"Besides adapting to this workflow, the functionally pure coding style is infamously difficult to grasp for the uninitiated (See "),N=r(bs,"A",{href:!0,rel:!0});var _l=p(N);Ws=l(_l,`Functional Programming Is Hard,
That’s Why It’s Good`),_l.forEach(t),Ds=l(bs,", also just Google “functional programming is difficult”). You think you are comfortable with functional concepts (e.g. immutable state, pure functions, higher order functions, currying) and operators (e.g. map, filter, reduce) in JavaScript? This will be of very little help in Elm, because it is not possible to combine functional style with an OO style (or to fall back to OO when you are completely lost)."),bs.forEach(t),Kt=u(e),S=r(e,"P",{});var ys=p(S);Js=l(ys,"Objects have no meaning in Elm, Elm is a true functional language, like Haskell and Scheme. JavaScript on the other hand is flexible, multi-paradigm ("),B=r(ys,"A",{href:!0,rel:!0});var gl=p(B);qs=l(gl,"imperative, functional, prototype-based"),gl.forEach(t),Ns=l(ys,") and scales from development by absolute beginners to enterprise."),ys.forEach(t),Xt=u(e),De=r(e,"H2",{});var Tl=p(De);Bs=l(Tl,"Immutability"),Tl.forEach(t),Zt=u(e),Je=r(e,"P",{});var Il=p(Je);Us=l(Il,"Take for instance immutability. In JavaScript (without libraries) the meaning of immutability is limited to the const keyword, which prevents you from reassigning to declared variables."),Il.forEach(t),ea=u(e),U=r(e,"PRE",{class:!0});var fr=p(U);fr.forEach(t),ta=u(e),qe=r(e,"P",{});var Ml=p(qe);Gs=l(Ml,"It is still possible to change the contents of a constant however, with property reassignment."),Ml.forEach(t),aa=u(e),G=r(e,"PRE",{class:!0});var dr=p(G);dr.forEach(t),sa=u(e),V=r(e,"P",{});var vl=p(V);Y=r(vl,"A",{href:!0,rel:!0});var Pl=p(Y);Vs=l(Pl,"Immutability in Elm"),Pl.forEach(t),Ys=l(vl," is much more invasive: there are no variables, only constants. Assignment can be written inline or take a chained style for clarity:"),vl.forEach(t),na=u(e),$=r(e,"PRE",{class:!0});var mr=p($);mr.forEach(t),oa=u(e),z=r(e,"PRE",{class:!0});var hr=p(z);hr.forEach(t),la=u(e),Ne=r(e,"P",{});var Sl=p(Ne);$s=l(Sl,"Note that the order is reversed to what you may expect in this chained notation, it reads from bottom to top."),Sl.forEach(t),ia=u(e),Be=r(e,"P",{});var Cl=p(Be);zs=l(Cl,"This is similar to chaining (functional) operators without storing intermediate state in JavaScript, e.g.:"),Cl.forEach(t),ra=u(e),Q=r(e,"PRE",{class:!0});var vr=p(Q);vr.forEach(t),pa=u(e),Ue=r(e,"P",{});var Al=p(Ue);Qs=l(Al,"Although the order here is from top to bottom."),Al.forEach(t),ca=u(e),Ge=r(e,"P",{});var Hl=p(Ge);Ks=l(Hl,`If a value can be changed (e.g. by user input or server updates) you need to use “update” functions in Elm. These will update the entire or partial application state by creating a new state and updating the part of the model that is relevant for this event.
Example:`),Hl.forEach(t),ua=u(e),K=r(e,"PRE",{class:!0});var kr=p(K);kr.forEach(t),fa=u(e),Ve=r(e,"P",{});var xl=p(Ve);Xs=l(xl,"Which means that in the case the message is “Name”, create a new “model” where model.name is set to the supplied name."),xl.forEach(t),da=u(e),C=r(e,"P",{});var Es=p(C);Zs=l(Es,"An advantage is that over the course of use of the application a list of states is recorded, which enables time travel debugging (like in "),X=r(Es,"A",{href:!0,rel:!0});var Ll=p(X);en=l(Ll,"this GIF"),Ll.forEach(t),tn=l(Es,")."),Es.forEach(t),ma=u(e),d=r(e,"P",{});var j=p(d);an=l(j,"This might look familiar if you have used "),Z=r(j,"A",{href:!0,rel:!0});var Fl=p(Z);sn=l(Fl,"Redux"),Fl.forEach(t),nn=l(j,". Redux is partially "),ee=r(j,"A",{href:!0,rel:!0});var Rl=p(ee);on=l(Rl,"inspired by Elm"),Rl.forEach(t),ln=l(j," and you might recognize the [dispatch, action] cycle in the way Elm updates the model. In that respect, it is is also similar to "),te=r(j,"A",{href:!0,rel:!0});var Ol=p(te);rn=l(Ol,"state stores in RxJS"),Ol.forEach(t),pn=l(j,":"),j.forEach(t),ha=u(e),ae=r(e,"PRE",{class:!0});var wr=p(ae);wr.forEach(t),va=u(e),Ye=r(e,"P",{});var jl=p(Ye);cn=l(jl,"Here you can see that a new state object is created, and only the count property is updated."),jl.forEach(t),ka=u(e),k=r(e,"P",{});var Et=p(k);un=l(Et,"Another familiar aspect of Elm is the use of "),se=r(Et,"A",{href:!0,rel:!0});var Wl=p(se);fn=l(Wl,"Virtual DOM"),Wl.forEach(t),dn=l(Et,". Instead of manipulating the DOM directly, an in-memory representation of the UI (the virtual DOM) is modified, and that is synchronized to the real DOM. This improves performance dramatically and is one of "),ne=r(Et,"A",{href:!0,rel:!0});var Dl=p(ne);mn=l(Dl,"the selling points of React"),Dl.forEach(t),hn=l(Et,"."),Et.forEach(t),wa=u(e),m=r(e,"P",{});var W=p(m);vn=l(W,"With all of this in mind, we set out to rewrite "),oe=r(W,"A",{href:!0,rel:!0});var Jl=p(oe);kn=l(Jl,"our company site"),Jl.forEach(t),wn=l(W," in Elm. The current implementation of the site is outdated and has all content stored locally. We want to migrate to a "),le=r(W,"A",{href:!0,rel:!0});var ql=p(le);bn=l(ql,"JAMstack"),ql.forEach(t),yn=l(W," approach, with the content stored in cloud services (Youtube, Twitter, and photos in "),ie=r(W,"A",{href:!0,rel:!0});var Nl=p(ie);En=l(Nl,"Cloudinary"),Nl.forEach(t),_n=l(W,") and to pull the data in through the respective APIs with Elm. The idea is that Elm should be more accessible to our Scala devs, while still providing a mature environment for our front-end devs so maintenance can be done by either."),W.forEach(t),ba=u(e),$e=r(e,"P",{});var Bl=p($e);gn=l(Bl,"Of course, all devs try to dive right in and soon are discouraged when this approach does not seem to work here. So maybe let’s read the Elm docs. There actually are quite a bit of docs. Maybe first finish the tutorials. Actually now I am even more confused…."),Bl.forEach(t),ya=u(e),ze=r(e,"H1",{});var Ul=p(ze);Tn=l(Ul,"Toolchain/workflow"),Ul.forEach(t),Ea=u(e),w=r(e,"P",{});var _t=p(w);In=l(_t,"No matter if it is Elm, "),re=r(_t,"A",{href:!0,rel:!0});var Gl=p(re);Mn=l(Gl,"Polymer"),Gl.forEach(t),Pn=l(_t,", or any other New Solution that does not use ES6 modules, it means you can’t use the tools you are probably used to as a front-end developer, like ESLint. You are now at the mercy of the maturity of the ecosystem of the New Solution. Fortunately, it looks like Elm has a very active community and covers "),pe=r(_t,"A",{href:!0,rel:!0});var Vl=p(pe);Sn=l(Vl,"Webpack integration"),Vl.forEach(t),Cn=l(_t,", for instance, right in the documentation."),_t.forEach(t),_a=u(e),Qe=r(e,"H2",{});var Yl=p(Qe);An=l(Yl,"Elm-reactor and external CSS"),Yl.forEach(t),ga=u(e),Ke=r(e,"P",{});var $l=p(Ke);Hn=l($l,`When starting out with Elm, you usually use elm-reactor to compile and serve Elm files. This offers a web interface that lets you navigate Elm files and when opening them serves them as HTML. Quite soon, you will find out that this presents a problem when you want to add external global resources, like CSS.
The Elm app served by elm-reactor is compiled to JavaScript and wrapped in an HTML. But you can’t specify what that HTML should look like, so you can’t add e.g.`),$l.forEach(t),Ta=u(e),ce=r(e,"PRE",{class:!0});var br=p(ce);br.forEach(t),Ia=u(e),A=r(e,"P",{});var _s=p(A);xn=l(_s,"You can (and eventually will) create your own HTML and build with e.g. webpack, but there is an intermediate solution if you want to get to know Elm better first, while keeping the benefits of elm-reactor, such as live reloading and the time travel debugger. It is "),ue=r(_s,"A",{href:!0,rel:!0});var zl=p(ue);Ln=l(zl,"not very well documented"),zl.forEach(t),Fn=l(_s,", but you can create an HTML file that directly loads an Elm file. Elm-reactor will automatically compile and live update it. The HTML would contain:"),_s.forEach(t),Ma=u(e),fe=r(e,"PRE",{class:!0});var yr=p(fe);yr.forEach(t),Pa=u(e),Xe=r(e,"P",{});var Ql=p(Xe);Rn=l(Ql,"We did notice that local custom fonts that were added while serving this way were not loaded. Custom fonts from a CDN will probably work."),Ql.forEach(t),Sa=u(e),Ze=r(e,"H2",{});var Kl=p(Ze);On=l(Kl,"Webpack"),Kl.forEach(t),Ca=u(e),h=r(e,"P",{});var D=p(h);jn=l(D,"First I set up a Webpack config conforming to "),de=r(D,"A",{href:!0,rel:!0});var Xl=p(de);Wn=l(Xl,"this guide"),Xl.forEach(t),Dn=l(D,". Before, I loaded an image in my Elm code, but now this image gives a 404 when I use the webpack-dev-server. It is also not copied to /dist when building. Webpack does not seem to resolve the image as an asset, which is a "),me=r(D,"A",{href:!0,rel:!0});var Zl=p(me);Jn=l(Zl,"known issue"),Zl.forEach(t),qn=l(D,`.
There are workarounds, like setting the image as a CSS background and have the image dependency resolved by the css-loader, but that does `),he=r(D,"A",{href:!0,rel:!0});var ei=p(he);Nn=l(ei,"not conform to a11y guidelines"),ei.forEach(t),Bn=l(D," for informative images."),D.forEach(t),Aa=u(e),H=r(e,"P",{});var gs=p(H);Un=l(gs,"The suggested solution is to use "),ve=r(gs,"A",{href:!0,rel:!0});var ti=p(ve);Gn=l(ti,"elm-assets-loader"),ti.forEach(t),Vn=l(gs,". Additional to the instructions:"),gs.forEach(t),Ha=u(e),b=r(e,"UL",{});var gt=p(b);Ct=r(gt,"LI",{});var ai=p(Ct);Yn=l(ai,"I had to add ../ as a prefix to the image path"),ai.forEach(t),$n=u(gt),At=r(gt,"LI",{});var si=p(At);zn=l(si,"It was helpful to run webpack instead of webpack-dev-server, it gave more informative errors"),si.forEach(t),Qn=u(gt),ke=r(gt,"LI",{});var Ts=p(ke);Kn=l(Ts,"I had to remove this line from the webpack config: "),Ht=r(Ts,"CODE",{});var ni=p(Ht);Xn=l(ni,"noParse: /\\.elm$/,"),ni.forEach(t),Zn=l(Ts," because it failed on an SVG import without a compile error, but with a runtime error: “Uncaught ReferenceError: require is not defined”"),Ts.forEach(t),gt.forEach(t),xa=u(e),y=r(e,"P",{});var Tt=p(y);eo=l(Tt,"This last issue arose because it "),we=r(Tt,"A",{href:!0,rel:!0});var oi=p(we);to=l(oi,"is suggested in elm-webpack-loader"),oi.forEach(t),ao=l(Tt," to set "),xt=r(Tt,"CODE",{});var li=p(xt);so=l(li,"noParse: /\\.elm$/,"),li.forEach(t),no=l(Tt," conflicting with elm-css-webpack-loader, which I added later."),Tt.forEach(t),La=u(e),E=r(e,"P",{});var It=p(E);oo=l(It,"The cause of the error and the workaround to set "),Lt=r(It,"CODE",{});var ii=p(Lt);lo=l(ii,"noParse: /^((?!Stylesheet).)*\\.elm.*$/,"),ii.forEach(t),io=l(It," instead, is explained in "),be=r(It,"A",{href:!0,rel:!0});var ri=p(be);ro=l(ri,"elm-css-webpack-loader"),ri.forEach(t),po=l(It,"."),It.forEach(t),Fa=u(e),et=r(e,"H1",{});var pi=p(et);co=l(pi,"Getting the debugger back"),pi.forEach(t),Ra=u(e),x=r(e,"P",{});var Is=p(x);uo=l(Is,"When using Webpack, you don’t use elm-reactor so you don’t have the time travel debugger. This seems obvious: there is no Elm code anymore, it has been compiled to JS. It is very difficult to find documentation that mentions this. However, when using "),ye=r(Is,"A",{href:!0,rel:!0});var ci=p(ye);fo=l(ci,"elm-webpack-starter"),ci.forEach(t),mo=l(Is," it actually runs with the debugger!"),Is.forEach(t),Oa=u(e),tt=r(e,"P",{});var ui=p(tt);ho=l(ui,"It seems this is actually an option for the elm-webpack-loader in the webpack.config.js. First we used this:"),ui.forEach(t),ja=u(e),Ee=r(e,"PRE",{class:!0});var Er=p(Ee);Er.forEach(t),Wa=u(e),at=r(e,"P",{});var fi=p(at);vo=l(fi,"Which is equivalent to:"),fi.forEach(t),Da=u(e),_e=r(e,"PRE",{class:!0});var _r=p(_e);_r.forEach(t),Ja=u(e),st=r(e,"P",{});var di=p(st);ko=l(di,"And here the option “debug” can be added:"),di.forEach(t),qa=u(e),ge=r(e,"PRE",{class:!0});var gr=p(ge);gr.forEach(t),Na=u(e),_=r(e,"P",{});var Mt=p(_);wo=l(Mt,"I had trouble finding this option, because I had looked at the "),Te=r(Mt,"A",{href:!0,rel:!0});var mi=p(Te);bo=l(mi,"elm-webpack-loader readme"),mi.forEach(t),yo=l(Mt,", but I searched for “debug” in the readme, and there is actually only a reference to all the options "),Ie=r(Mt,"A",{href:!0,rel:!0});var hi=p(Ie);Eo=l(hi,"in the source"),hi.forEach(t),_o=l(Mt,"."),Mt.forEach(t),Ba=u(e),nt=r(e,"H1",{});var vi=p(nt);go=l(vi,"Unit tests"),vi.forEach(t),Ua=u(e),ot=r(e,"P",{});var ki=p(ot);To=l(ki,"We set up unit tests (see test/Assets.elm) and modified the npm tasks such that:"),ki.forEach(t),Ga=u(e),v=r(e,"UL",{});var J=p(v);Ft=r(J,"LI",{});var wi=p(Ft);Io=l(wi,"Postinstall runs elm package install for / and also for /tests/"),wi.forEach(t),Mo=u(J),Me=r(J,"LI",{});var Ms=p(Me);Po=l(Ms,"The new task "),Rt=r(Ms,"CODE",{});var bi=p(Rt);So=l(bi,"npm format-validate"),bi.forEach(t),Co=l(Ms," validates /app/src and /tests/*.elm (as a quick way of excluding /tests/elm-stuff)"),Ms.forEach(t),Ao=u(J),T=r(J,"LI",{});var Pt=p(T);Ot=r(Pt,"CODE",{});var yi=p(Ot);Ho=l(yi,"npm test"),yi.forEach(t),xo=l(Pt," runs "),jt=r(Pt,"CODE",{});var Ei=p(jt);Lo=l(Ei,"format-validate"),Ei.forEach(t),Fo=l(Pt," and "),Wt=r(Pt,"CODE",{});var _i=p(Wt);Ro=l(_i,"elm-test"),_i.forEach(t),Pt.forEach(t),Oo=u(J),L=r(J,"LI",{});var Gt=p(L);Dt=r(Gt,"CODE",{});var gi=p(Dt);jo=l(gi,"npm run build"),gi.forEach(t),Wo=l(Gt," first runs "),Jt=r(Gt,"CODE",{});var Ti=p(Jt);Do=l(Ti,"npm test"),Ti.forEach(t),Jo=l(Gt," and then starts webpack-dev-server"),Gt.forEach(t),J.forEach(t),Va=u(e),lt=r(e,"H1",{});var Ii=p(lt);qo=l(Ii,"Speeding up the build on Travis"),Ii.forEach(t),Ya=u(e),F=r(e,"P",{});var Ps=p(F);No=l(Ps,`After adding a unit test (i.e. elm-test) the build speed is taking over 45 minutes on Travis CI.
One suggestion is to `),Pe=r(Ps,"A",{href:!0,rel:!0});var Mi=p(Pe);Bo=l(Mi,"cache the elm artifacts"),Mi.forEach(t),Uo=l(Ps,"."),Ps.forEach(t),$a=u(e),it=r(e,"P",{});var Pi=p(it);Go=l(Pi,"Add this to travis.yml:"),Pi.forEach(t),za=u(e),Se=r(e,"PRE",{class:!0});var Tr=p(Se);Tr.forEach(t),Qa=u(e),rt=r(e,"P",{});var Si=p(rt);Vo=l(Si,"The first build after adding this should be still slow, because the build-artifacts will have to be cached, but the second build should be faster:"),Si.forEach(t),Ka=u(e),R=r(e,"UL",{});var Ss=p(R);qt=r(Ss,"LI",{});var Ci=p(qt);Yo=l(Ci,"build #23 (first build with cache on): 46 minutes 48 seconds"),Ci.forEach(t),$o=u(Ss),Nt=r(Ss,"LI",{});var Ai=p(Nt);zo=l(Ai,"build #24: 5 minutes 53 seconds"),Ai.forEach(t),Ss.forEach(t),Xa=u(e),pt=r(e,"P",{});var Hi=p(pt);Qo=l(Hi,"So it is worth the trouble!"),Hi.forEach(t),Za=u(e),g=r(e,"P",{});var St=p(g);Ko=l(St,"It would be possible to cache "),Bt=r(St,"CODE",{});var xi=p(Bt);Xo=l(xi,"elm-stuff"),xi.forEach(t),Zo=l(St," (where Elm dependencies are installed) instead of "),Ut=r(St,"CODE",{});var Li=p(Ut);el=l(Li,"elm-stuff/build-artifacts"),Li.forEach(t),tl=l(St,", but this would require manually clearing the cache when new Elm dependencies are added."),St.forEach(t),es=u(e),ct=r(e,"H1",{});var Fi=p(ct);al=l(Fi,"Combining several components in one Elm app"),Fi.forEach(t),ts=u(e),O=r(e,"P",{});var Cs=p(O);sl=l(Cs,`We started out with several proofs of concept, so we have a separate TwitterFeed app and DiceRoller app that need to be integrated into the site app.
I’ve followed my refactoring attempt (for splitting up one huge Elm file) that I did in `),Ce=r(Cs,"A",{href:!0,rel:!0});var Ri=p(Ce);nl=l(Ri,"my first Elm experiment"),Ri.forEach(t),ol=l(Cs,", which helped integrating the models and update functions."),Cs.forEach(t),as=u(e),ut=r(e,"P",{});var Oi=p(ut);ll=l(Oi,"The TwitterFeed has an initial Cmd. This must somehow be called by the initial Cmd of the main page app."),Oi.forEach(t),ss=u(e),ft=r(e,"P",{});var ji=p(ft);il=l(ji,"This is the init of the Model and Cmd of the main page app. The TwitterFeed model has been added, but the initial Cmd is still “none”:"),ji.forEach(t),ns=u(e),Ae=r(e,"PRE",{class:!0});var Ir=p(Ae);Ir.forEach(t),os=u(e),dt=r(e,"P",{});var Wi=p(dt);rl=l(Wi,"I want a custom init cmd to be called:"),Wi.forEach(t),ls=u(e),He=r(e,"PRE",{class:!0});var Mr=p(He);Mr.forEach(t),is=u(e),mt=r(e,"P",{});var Di=p(mt);pl=l(Di,"On init, I want to call a service to get Twitter messages. In the standalone TwitterFeed app this looks like this:"),Di.forEach(t),rs=u(e),xe=r(e,"PRE",{class:!0});var Pr=p(xe);Pr.forEach(t),ps=u(e),ht=r(e,"P",{});var Ji=p(ht);cl=l(Ji,"It is not possible to create an initCmd in the main page app that calls initTwitterFeedCmd directly:"),Ji.forEach(t),cs=u(e),Le=r(e,"PRE",{class:!0});var Sr=p(Le);Sr.forEach(t),us=u(e),vt=r(e,"P",{});var qi=p(vt);ul=l(qi,"Because initTwitterFeedCmd is of the type Cmd TwitterFeedMsg. However, after adding TwitterFeedMsg to the union type for Msg, i.e.:"),qi.forEach(t),fs=u(e),Fe=r(e,"PRE",{class:!0});var Cr=p(Fe);Cr.forEach(t),ds=u(e),kt=r(e,"P",{});var Ni=p(kt);fl=l(Ni,"Then it is possible to map from Cmd TwitterFeedMsg to Cmd Msg:"),Ni.forEach(t),ms=u(e),Re=r(e,"PRE",{class:!0});var Ar=p(Re);Ar.forEach(t),hs=u(e),wt=r(e,"H1",{});var Bi=p(wt);dl=l(Bi,"Conclusion"),Bi.forEach(t),vs=u(e),bt=r(e,"P",{});var Ui=p(bt);ml=l(Ui,`In the end we simply do not have a strong enough use case for Elm. There is too little state to manage and interaction between components. The TwitterFeed component does have state for instance, but it is so straight forward that Elm offers no advantage over JavaScript alternatives like RxJS state stores
or Redux. In this sense Elm would be a good fit for an advanced web app or component with UI controls or complex logic.`),Ui.forEach(t),ks=u(e),yt=r(e,"P",{});var Gi=p(yt);hl=l(Gi,"Also the steep learning curve for most developers remains, and although this was anticipated for front-end developers it proves more challenging to Scala devs than we first thought."),Gi.forEach(t),this.h()},h(){f(q,"href","http://elm-lang.org/"),f(q,"rel","nofollow"),f(N,"href","http://dave.fayr.am/posts/2011-08-19-lets-go-shopping.html"),f(N,"rel","nofollow"),f(B,"href","https://developer.mozilla.org/en-US/docs/Web/JavaScript"),f(B,"rel","nofollow"),f(U,"class","language-javascript"),f(G,"class","language-javascript"),f(Y,"href","http://elmprogramming.com/immutability.html"),f(Y,"rel","nofollow"),f($,"class","language-elm"),f(z,"class","language-elm"),f(Q,"class","language-javascript"),f(K,"class","language-javascript"),f(X,"href","https://github.com/reduxjs/redux-devtools"),f(X,"rel","nofollow"),f(Z,"href","https://redux.js.org/"),f(Z,"rel","nofollow"),f(ee,"href","https://redux.js.org/introduction/prior-art#elm"),f(ee,"rel","nofollow"),f(te,"href","http://reactivex.io/rxjs/manual/tutorial.html#state-stores"),f(te,"rel","nofollow"),f(ae,"class","language-javascript"),f(se,"href","http://elmprogramming.com/virtual-dom.html"),f(se,"rel","nofollow"),f(ne,"href","https://reactjs.org/docs/faq-internals.html"),f(ne,"rel","nofollow"),f(oe,"href","https://www.codestar.nl"),f(oe,"rel","nofollow"),f(le,"href","https://jamstack.org/"),f(le,"rel","nofollow"),f(ie,"href","https://cloudinary.com/"),f(ie,"rel","nofollow"),f(re,"href","https://mdworld.nl/polymer-2-and-type-script"),f(re,"rel","nofollow"),f(pe,"href","https://www.elm-tutorial.org/en/04-starting/03-webpack-1.html"),f(pe,"rel","nofollow"),f(ce,"class","language-html"),f(ue,"href","https://github.com/elm-lang/elm-reactor/issues/199#issuecomment-279250207"),f(ue,"rel","nofollow"),f(fe,"class","language-javascript"),f(de,"href","https://www.elm-tutorial.org/en/04-starting/04-webpack-2.html"),f(de,"rel","nofollow"),f(me,"href","https://github.com/elm-community/elm-webpack-loader/issues/54"),f(me,"rel","nofollow"),f(he,"href","https://mdworld.nl/polymer-2-and-type-script"),f(he,"rel","nofollow"),f(ve,"href","https://github.com/NoRedInk/elm-assets-loader"),f(ve,"rel","nofollow"),f(we,"href","https://github.com/elm-community/elm-webpack-loader#noparse"),f(we,"rel","nofollow"),f(be,"href","https://github.com/tcoopman/elm-css-webpack-loader"),f(be,"rel","nofollow"),f(ye,"href","https://github.com/elm-community/elm-webpack-starter"),f(ye,"rel","nofollow"),f(Ee,"class","language-undefined"),f(_e,"class","language-json"),f(ge,"class","language-json"),f(Te,"href","https://github.com/elm-community/elm-webpack-loader"),f(Te,"rel","nofollow"),f(Ie,"href","https://github.com/rtfeldman/node-elm-compiler/blob/3fde73d/index.js#L12-L23"),f(Ie,"rel","nofollow"),f(Pe,"href","https://8thlight.com/blog/rob-looby/2016/04/07/caching-elm-builds-on-travis-ci.html"),f(Pe,"rel","nofollow"),f(Se,"class","language-yml"),f(Ce,"href","https://github.com/mdvanes/elmsta/tree/refactoring"),f(Ce,"rel","nofollow"),f(Ae,"class","language-elm"),f(He,"class","language-elm"),f(xe,"class","language-elm"),f(Le,"class","language-elm"),f(Fe,"class","language-elm"),f(Re,"class","language-elm")},m(e,s){n(e,I,s),a(I,As),n(e,Vt,s),n(e,Oe,s),a(Oe,Hs),n(e,Yt,s),n(e,M,s),a(M,xs),a(M,q),a(q,Ls),a(M,Fs),n(e,$t,s),n(e,je,s),a(je,Rs),n(e,zt,s),n(e,We,s),a(We,Os),n(e,Qt,s),n(e,P,s),a(P,js),a(P,N),a(N,Ws),a(P,Ds),n(e,Kt,s),n(e,S,s),a(S,Js),a(S,B),a(B,qs),a(S,Ns),n(e,Xt,s),n(e,De,s),a(De,Bs),n(e,Zt,s),n(e,Je,s),a(Je,Us),n(e,ea,s),n(e,U,s),U.innerHTML=Yi,n(e,ta,s),n(e,qe,s),a(qe,Gs),n(e,aa,s),n(e,G,s),G.innerHTML=$i,n(e,sa,s),n(e,V,s),a(V,Y),a(Y,Vs),a(V,Ys),n(e,na,s),n(e,$,s),$.innerHTML=zi,n(e,oa,s),n(e,z,s),z.innerHTML=Qi,n(e,la,s),n(e,Ne,s),a(Ne,$s),n(e,ia,s),n(e,Be,s),a(Be,zs),n(e,ra,s),n(e,Q,s),Q.innerHTML=Ki,n(e,pa,s),n(e,Ue,s),a(Ue,Qs),n(e,ca,s),n(e,Ge,s),a(Ge,Ks),n(e,ua,s),n(e,K,s),K.innerHTML=Xi,n(e,fa,s),n(e,Ve,s),a(Ve,Xs),n(e,da,s),n(e,C,s),a(C,Zs),a(C,X),a(X,en),a(C,tn),n(e,ma,s),n(e,d,s),a(d,an),a(d,Z),a(Z,sn),a(d,nn),a(d,ee),a(ee,on),a(d,ln),a(d,te),a(te,rn),a(d,pn),n(e,ha,s),n(e,ae,s),ae.innerHTML=Zi,n(e,va,s),n(e,Ye,s),a(Ye,cn),n(e,ka,s),n(e,k,s),a(k,un),a(k,se),a(se,fn),a(k,dn),a(k,ne),a(ne,mn),a(k,hn),n(e,wa,s),n(e,m,s),a(m,vn),a(m,oe),a(oe,kn),a(m,wn),a(m,le),a(le,bn),a(m,yn),a(m,ie),a(ie,En),a(m,_n),n(e,ba,s),n(e,$e,s),a($e,gn),n(e,ya,s),n(e,ze,s),a(ze,Tn),n(e,Ea,s),n(e,w,s),a(w,In),a(w,re),a(re,Mn),a(w,Pn),a(w,pe),a(pe,Sn),a(w,Cn),n(e,_a,s),n(e,Qe,s),a(Qe,An),n(e,ga,s),n(e,Ke,s),a(Ke,Hn),n(e,Ta,s),n(e,ce,s),ce.innerHTML=er,n(e,Ia,s),n(e,A,s),a(A,xn),a(A,ue),a(ue,Ln),a(A,Fn),n(e,Ma,s),n(e,fe,s),fe.innerHTML=tr,n(e,Pa,s),n(e,Xe,s),a(Xe,Rn),n(e,Sa,s),n(e,Ze,s),a(Ze,On),n(e,Ca,s),n(e,h,s),a(h,jn),a(h,de),a(de,Wn),a(h,Dn),a(h,me),a(me,Jn),a(h,qn),a(h,he),a(he,Nn),a(h,Bn),n(e,Aa,s),n(e,H,s),a(H,Un),a(H,ve),a(ve,Gn),a(H,Vn),n(e,Ha,s),n(e,b,s),a(b,Ct),a(Ct,Yn),a(b,$n),a(b,At),a(At,zn),a(b,Qn),a(b,ke),a(ke,Kn),a(ke,Ht),a(Ht,Xn),a(ke,Zn),n(e,xa,s),n(e,y,s),a(y,eo),a(y,we),a(we,to),a(y,ao),a(y,xt),a(xt,so),a(y,no),n(e,La,s),n(e,E,s),a(E,oo),a(E,Lt),a(Lt,lo),a(E,io),a(E,be),a(be,ro),a(E,po),n(e,Fa,s),n(e,et,s),a(et,co),n(e,Ra,s),n(e,x,s),a(x,uo),a(x,ye),a(ye,fo),a(x,mo),n(e,Oa,s),n(e,tt,s),a(tt,ho),n(e,ja,s),n(e,Ee,s),Ee.innerHTML=ar,n(e,Wa,s),n(e,at,s),a(at,vo),n(e,Da,s),n(e,_e,s),_e.innerHTML=sr,n(e,Ja,s),n(e,st,s),a(st,ko),n(e,qa,s),n(e,ge,s),ge.innerHTML=nr,n(e,Na,s),n(e,_,s),a(_,wo),a(_,Te),a(Te,bo),a(_,yo),a(_,Ie),a(Ie,Eo),a(_,_o),n(e,Ba,s),n(e,nt,s),a(nt,go),n(e,Ua,s),n(e,ot,s),a(ot,To),n(e,Ga,s),n(e,v,s),a(v,Ft),a(Ft,Io),a(v,Mo),a(v,Me),a(Me,Po),a(Me,Rt),a(Rt,So),a(Me,Co),a(v,Ao),a(v,T),a(T,Ot),a(Ot,Ho),a(T,xo),a(T,jt),a(jt,Lo),a(T,Fo),a(T,Wt),a(Wt,Ro),a(v,Oo),a(v,L),a(L,Dt),a(Dt,jo),a(L,Wo),a(L,Jt),a(Jt,Do),a(L,Jo),n(e,Va,s),n(e,lt,s),a(lt,qo),n(e,Ya,s),n(e,F,s),a(F,No),a(F,Pe),a(Pe,Bo),a(F,Uo),n(e,$a,s),n(e,it,s),a(it,Go),n(e,za,s),n(e,Se,s),Se.innerHTML=or,n(e,Qa,s),n(e,rt,s),a(rt,Vo),n(e,Ka,s),n(e,R,s),a(R,qt),a(qt,Yo),a(R,$o),a(R,Nt),a(Nt,zo),n(e,Xa,s),n(e,pt,s),a(pt,Qo),n(e,Za,s),n(e,g,s),a(g,Ko),a(g,Bt),a(Bt,Xo),a(g,Zo),a(g,Ut),a(Ut,el),a(g,tl),n(e,es,s),n(e,ct,s),a(ct,al),n(e,ts,s),n(e,O,s),a(O,sl),a(O,Ce),a(Ce,nl),a(O,ol),n(e,as,s),n(e,ut,s),a(ut,ll),n(e,ss,s),n(e,ft,s),a(ft,il),n(e,ns,s),n(e,Ae,s),Ae.innerHTML=lr,n(e,os,s),n(e,dt,s),a(dt,rl),n(e,ls,s),n(e,He,s),He.innerHTML=ir,n(e,is,s),n(e,mt,s),a(mt,pl),n(e,rs,s),n(e,xe,s),xe.innerHTML=rr,n(e,ps,s),n(e,ht,s),a(ht,cl),n(e,cs,s),n(e,Le,s),Le.innerHTML=pr,n(e,us,s),n(e,vt,s),a(vt,ul),n(e,fs,s),n(e,Fe,s),Fe.innerHTML=cr,n(e,ds,s),n(e,kt,s),a(kt,fl),n(e,ms,s),n(e,Re,s),Re.innerHTML=ur,n(e,hs,s),n(e,wt,s),a(wt,dl),n(e,vs,s),n(e,bt,s),a(bt,ml),n(e,ks,s),n(e,yt,s),a(yt,hl)},p:kl,i:kl,o:kl,d(e){e&&t(I),e&&t(Vt),e&&t(Oe),e&&t(Yt),e&&t(M),e&&t($t),e&&t(je),e&&t(zt),e&&t(We),e&&t(Qt),e&&t(P),e&&t(Kt),e&&t(S),e&&t(Xt),e&&t(De),e&&t(Zt),e&&t(Je),e&&t(ea),e&&t(U),e&&t(ta),e&&t(qe),e&&t(aa),e&&t(G),e&&t(sa),e&&t(V),e&&t(na),e&&t($),e&&t(oa),e&&t(z),e&&t(la),e&&t(Ne),e&&t(ia),e&&t(Be),e&&t(ra),e&&t(Q),e&&t(pa),e&&t(Ue),e&&t(ca),e&&t(Ge),e&&t(ua),e&&t(K),e&&t(fa),e&&t(Ve),e&&t(da),e&&t(C),e&&t(ma),e&&t(d),e&&t(ha),e&&t(ae),e&&t(va),e&&t(Ye),e&&t(ka),e&&t(k),e&&t(wa),e&&t(m),e&&t(ba),e&&t($e),e&&t(ya),e&&t(ze),e&&t(Ea),e&&t(w),e&&t(_a),e&&t(Qe),e&&t(ga),e&&t(Ke),e&&t(Ta),e&&t(ce),e&&t(Ia),e&&t(A),e&&t(Ma),e&&t(fe),e&&t(Pa),e&&t(Xe),e&&t(Sa),e&&t(Ze),e&&t(Ca),e&&t(h),e&&t(Aa),e&&t(H),e&&t(Ha),e&&t(b),e&&t(xa),e&&t(y),e&&t(La),e&&t(E),e&&t(Fa),e&&t(et),e&&t(Ra),e&&t(x),e&&t(Oa),e&&t(tt),e&&t(ja),e&&t(Ee),e&&t(Wa),e&&t(at),e&&t(Da),e&&t(_e),e&&t(Ja),e&&t(st),e&&t(qa),e&&t(ge),e&&t(Na),e&&t(_),e&&t(Ba),e&&t(nt),e&&t(Ua),e&&t(ot),e&&t(Ga),e&&t(v),e&&t(Va),e&&t(lt),e&&t(Ya),e&&t(F),e&&t($a),e&&t(it),e&&t(za),e&&t(Se),e&&t(Qa),e&&t(rt),e&&t(Ka),e&&t(R),e&&t(Xa),e&&t(pt),e&&t(Za),e&&t(g),e&&t(es),e&&t(ct),e&&t(ts),e&&t(O),e&&t(as),e&&t(ut),e&&t(ss),e&&t(ft),e&&t(ns),e&&t(Ae),e&&t(os),e&&t(dt),e&&t(ls),e&&t(He),e&&t(is),e&&t(mt),e&&t(rs),e&&t(xe),e&&t(ps),e&&t(ht),e&&t(cs),e&&t(Le),e&&t(us),e&&t(vt),e&&t(fs),e&&t(Fe),e&&t(ds),e&&t(kt),e&&t(ms),e&&t(Re),e&&t(hs),e&&t(wt),e&&t(vs),e&&t(bt),e&&t(ks),e&&t(yt)}}}const Or={title:"Elm for front-end developers",cover:"",date:"25-05-2018",category:"webdevelopment",tags:["webdevelopment"],preview:`Elm for front-end developers - how we dove into Elm to rebuild part of our site.

Why Elm?`,previewHtml:"<p>Elm for front-end developers - how we dove into Elm to rebuild part of our site.</p> <h1>Why Elm?</h1>"};class jr extends Hr{constructor(I){super(),xr(this,I,null,Fr,Lr,{})}}export{jr as default,Or as metadata};
